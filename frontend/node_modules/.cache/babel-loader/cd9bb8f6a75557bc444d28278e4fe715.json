{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nissa\\\\Desktop\\\\SKULE\\\\4th Year\\\\ECE444\\\\code\\\\project-1-web-application-design-education-pathways-group-1-agility\\\\Education_Pathways\\\\frontend\\\\src\\\\components\\\\CourseDescription.js\";\nimport React, { Component } from \"react\";\nimport \"./css/course-description.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Container from \"react-bootstrap/Container\";\nimport ReactStars from \"react-rating-stars-component\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport axios from \"../axiosInstance/AxiosInstance\";\nimport Spinner from \"./Spinner\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CourseDescriptionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openLink = () => {\n      const newWindow = window.open(this.state.syllabus, \"_blacnk\", \"noopener,noreferrer\");\n\n      if (newWindow) {\n        newWindow.opener = null;\n      }\n    };\n\n    this.onRatingChange = rating => {\n      this.setState({\n        userRating: rating\n      });\n    };\n\n    this.submitUserRating = () => {\n      if (!this.state.userRating) return null;\n      this.setState({\n        dispSpinner: true\n      });\n      const id = this.props.match.params.id;\n      axios.patch(`/courses/ratings/${id}`, {\n        Rating: this.state.userRating\n      }).then(res => {\n        this.setState({\n          rating: res.data.Rating\n        });\n        localStorage.setItem(`rating-${id}`, \"true\");\n        this.setState({\n          dispRating: false\n        });\n        this.setState({\n          dispSpinner: false\n        });\n      }).catch(() => {\n        this.setState({\n          dispSpinner: false\n        });\n      });\n    };\n\n    this.state = {\n      course_code: \"\",\n      course_name: \"\",\n      faculty: \"\",\n      department: \"\",\n      course_description: \"\",\n      syllabus: \"\",\n      prerequisites: \"\",\n      corequisites: \"\",\n      exclusions: \"\",\n      rating: 0,\n      userRating: 0,\n      dispSpinner: false,\n      dispRating: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`/courses/${this.props.match.params.id}`).then(res => {\n      this.setState({\n        course_code: res.data.Code\n      });\n      this.setState({\n        course_name: res.data.Name\n      });\n      this.setState({\n        course_description: res.data[\"Course Description\"]\n      });\n      this.setState({\n        faculty: res.data.Faculty\n      });\n      this.setState({\n        department: res.data.Department\n      });\n      this.setState({\n        prerequisites: res.data[\"Pre-requisites\"].join(\", \")\n      });\n      this.setState({\n        corequisites: res.data[\"Corequisite\"].join(\", \")\n      });\n      this.setState({\n        exclusions: res.data[\"Exclusion\"].join(\", \")\n      });\n      this.setState({\n        rating: res.data.Rating\n      });\n      this.setState({\n        dispRating: !localStorage.getItem(`rating-${this.props.match.params.id}`)\n      });\n\n      const syllabus_link = (() => {\n        if (this.state.course_code.slice(0, 3) !== \"ECE\") {\n          return \"https://exams-library-utoronto-ca.myaccess.library.utoronto.ca/simple-search?query=\" + this.state.course_code;\n        }\n\n        return \"http://courses.skule.ca/search/\" + this.state.course_code;\n      })();\n\n      this.setState({\n        syllabus: syllabus_link\n      });\n    });\n  }\n\n  render() {\n    return this.state.dispSpinner ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"course-template\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          float: \"center\",\n          className: \"course-title\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [this.state.course_code, \" : \", this.state.course_name, /*#__PURE__*/_jsxDEV(Link, {\n                to: `/edit/${this.props.match.params.id}`,\n                state: {\n                  id: this.props.match.params.id\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: require(\"./img/edit_icon.png\").default,\n                  alt: \"Edit\",\n                  className: \"edit-button\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), this.state.rating ? /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(ReactStars, {\n              edit: false,\n              classNames: \"col-name-course-rating\",\n              count: 5,\n              activeColor: \"#1C3E6E\",\n              size: 30,\n              value: this.state.rating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Faculty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.faculty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: this.state.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Past Tests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"syllabus-link\",\n              onClick: this.openLink,\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col-item course-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Course Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.course_description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col-item course-requisite\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Course Requisites\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Pre-Requisites\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.prerequisites\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Co-Requisites\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.corequisites\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"requisites-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Exclusion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.exclusions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), this.state.dispRating ? /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col-item course-requisite\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Course Rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n            classNames: \"col-ratings\",\n            edit: true,\n            count: 5,\n            onChange: this.onRatingChange,\n            activeColor: \"#1C3E6E\",\n            size: 40,\n            value: this.state.userRating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rate-button\",\n            onClick: this.submitUserRating,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CourseDescriptionPage;","map":{"version":3,"sources":["C:/Users/nissa/Desktop/SKULE/4th Year/ECE444/code/project-1-web-application-design-education-pathways-group-1-agility/Education_Pathways/frontend/src/components/CourseDescription.js"],"names":["React","Component","Container","ReactStars","Col","Row","axios","Spinner","Link","CourseDescriptionPage","constructor","props","openLink","newWindow","window","open","state","syllabus","opener","onRatingChange","rating","setState","userRating","submitUserRating","dispSpinner","id","match","params","patch","Rating","then","res","data","localStorage","setItem","dispRating","catch","course_code","course_name","faculty","department","course_description","prerequisites","corequisites","exclusions","componentDidMount","get","Code","Name","Faculty","Department","join","getItem","syllabus_link","slice","render","require","default"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./css/course-description.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport axios from \"../axiosInstance/AxiosInstance\";\r\nimport Spinner from \"./Spinner\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass CourseDescriptionPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      course_code: \"\",\r\n      course_name: \"\",\r\n      faculty: \"\",\r\n      department: \"\",\r\n      course_description: \"\",\r\n      syllabus: \"\",\r\n      prerequisites: \"\",\r\n      corequisites: \"\",\r\n      exclusions: \"\",\r\n      rating: 0,\r\n      userRating: 0,\r\n      dispSpinner: false,\r\n      dispRating: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(`/courses/${this.props.match.params.id}`).then((res) => {\r\n      this.setState({ course_code: res.data.Code });\r\n      this.setState({ course_name: res.data.Name });\r\n      this.setState({ course_description: res.data[\"Course Description\"] });\r\n      this.setState({ faculty: res.data.Faculty });\r\n      this.setState({ department: res.data.Department });\r\n      this.setState({ prerequisites: res.data[\"Pre-requisites\"].join(\", \") });\r\n      this.setState({ corequisites: res.data[\"Corequisite\"].join(\", \") });\r\n      this.setState({ exclusions: res.data[\"Exclusion\"].join(\", \") });\r\n      this.setState({ rating: res.data.Rating });\r\n      this.setState({\r\n        dispRating: !localStorage.getItem(\r\n          `rating-${this.props.match.params.id}`\r\n        ),\r\n      });\r\n\r\n      const syllabus_link = (() => {\r\n        if (this.state.course_code.slice(0, 3) !== \"ECE\") {\r\n          return (\r\n            \"https://exams-library-utoronto-ca.myaccess.library.utoronto.ca/simple-search?query=\" +\r\n            this.state.course_code\r\n          );\r\n        }\r\n\r\n        return \"http://courses.skule.ca/search/\" + this.state.course_code;\r\n      })();\r\n\r\n      this.setState({ syllabus: syllabus_link });\r\n    });\r\n  }\r\n\r\n  openLink = () => {\r\n    const newWindow = window.open(\r\n      this.state.syllabus,\r\n      \"_blacnk\",\r\n      \"noopener,noreferrer\"\r\n    );\r\n    if (newWindow) {\r\n      newWindow.opener = null;\r\n    }\r\n  };\r\n\r\n  onRatingChange = (rating) => {\r\n    this.setState({ userRating: rating });\r\n  };\r\n\r\n  submitUserRating = () => {\r\n    if (!this.state.userRating) return null;\r\n    this.setState({ dispSpinner: true });\r\n    const id = this.props.match.params.id;\r\n    axios\r\n      .patch(`/courses/ratings/${id}`, {\r\n        Rating: this.state.userRating,\r\n      })\r\n      .then((res) => {\r\n        this.setState({ rating: res.data.Rating });\r\n        localStorage.setItem(`rating-${id}`, \"true\");\r\n        this.setState({ dispRating: false });\r\n        this.setState({ dispSpinner: false });\r\n      })\r\n      .catch(() => {\r\n        this.setState({ dispSpinner: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return this.state.dispSpinner ? (\r\n      <Spinner />\r\n    ) : (\r\n      <div className=\"page-content\">\r\n        <Container className=\"course-template\">\r\n          <Row float=\"center\" className=\"course-title\">\r\n            <Col xs={8}>\r\n              <h1>\r\n                {this.state.course_code} : {this.state.course_name}\r\n                <Link\r\n                  to={`/edit/${this.props.match.params.id}`}\r\n                  state={{ id: this.props.match.params.id }}\r\n                >\r\n                  <img\r\n                    src={require(\"./img/edit_icon.png\").default}\r\n                    alt=\"Edit\"\r\n                    className=\"edit-button\"\r\n                  />\r\n                </Link>\r\n              </h1>\r\n            </Col>\r\n            {this.state.rating ? (\r\n              <Col>\r\n                <ReactStars\r\n                  edit={false}\r\n                  classNames={\"col-name-course-rating\"}\r\n                  count={5}\r\n                  activeColor={\"#1C3E6E\"}\r\n                  size={30}\r\n                  value={this.state.rating}\r\n                />\r\n              </Col>\r\n            ) : null}\r\n          </Row>\r\n          <Row>\r\n            <Col className=\"col-item\">\r\n              <h3>Faculty</h3>\r\n              <p>{this.state.faculty}</p>\r\n            </Col>\r\n            <Col className=\"col-item\">\r\n              <h3>Department</h3>\r\n              <p>{this.state.department}</p>\r\n            </Col>\r\n            <Col className=\"col-item\">\r\n              <h3>Past Tests</h3>\r\n              <button className={\"syllabus-link\"} onClick={this.openLink}>\r\n                View\r\n              </button>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"col-item course-description\">\r\n            <h3>Course Description</h3>\r\n            <p>{this.state.course_description}</p>\r\n          </Row>\r\n          <Row className=\"col-item course-requisite\">\r\n            <Row>\r\n              <h3>Course Requisites</h3>\r\n            </Row>\r\n            <Row>\r\n              <Col className=\"requisites-display\">\r\n                <h4>Pre-Requisites</h4>\r\n                <p>{this.state.prerequisites}</p>\r\n              </Col>\r\n              <Col className=\"requisites-display\">\r\n                <h4>Co-Requisites</h4>\r\n                <p>{this.state.corequisites}</p>\r\n              </Col>\r\n              <Col className=\"requisites-display\">\r\n                <h4>Exclusion</h4>\r\n                <p>{this.state.exclusions}</p>\r\n              </Col>\r\n            </Row>\r\n          </Row>\r\n          {this.state.dispRating ? (\r\n            <Row className=\"col-item course-requisite\">\r\n              <h3>Course Rating</h3>\r\n\r\n              <ReactStars\r\n                classNames={\"col-ratings\"}\r\n                edit={true}\r\n                count={5}\r\n                onChange={this.onRatingChange}\r\n                activeColor={\"#1C3E6E\"}\r\n                size={40}\r\n                value={this.state.userRating}\r\n              />\r\n              <button className=\"rate-button\" onClick={this.submitUserRating}>\r\n                Submit\r\n              </button>\r\n            </Row>\r\n          ) : null}\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CourseDescriptionPage;\r\n"]},"metadata":{},"sourceType":"module"}